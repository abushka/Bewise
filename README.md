# Bewise

Приложение представляет собой веб сервис, который принимает POST запрос с содержимым вида {"questions_num": integer}
После получения запроса сервис, в свою очередь, запрашивает с публичного API (англоязычные вопросы для викторин) https://jservice.io/api/random?count=1 указанное в полученном запросе количество вопросов.
Полученные ответы сохраняются в базе данных. А именно id полученный с api, текст вопроса, текст ответа, значение, airdate, когда было создано, кгда было обновлено, id категории, id игры. В случае, если в БД имеется такой же вопрос, к публичному API с викторинами выполняются дополнительные запросы до тех пор, пока не будет получен уникальный вопрос для викторины.
В репозитории с заданием должны быть предоставлены инструкции по сборке докер-образа с сервисом из п. 2., его настройке и запуску. А также пример запроса к POST API сервиса.
Желательно, если при выполнении задания вы будете использовать docker-compose, SQLAalchemy,  пользоваться аннотацией типов.

Dockerfile в данном репозитории определяет контейнер для запуска веб-сервиса. Он устанавливает необходимые зависимости, копирует приложение внутрь контейнера и указывает команду для его запуска.

Определение базового образа 
`FROM python:3.9-slim`

Установка зависимостей для psycopg2
`RUN apt-get update \
    && apt-get install -y postgresql-client libpq-dev gcc`

Создание рабочей директории /app
`WORKDIR /app`

Копирование файла requirements.txt 
`COPY requirements.txt .`

Установка зависимостей, указанных в файле requirements.txt
`RUN pip install --no-cache-dir -r requirements.txt`

Копирование приложения
`COPY . .`

Запуск приложения
`CMD ["python", "app.py"]`


docker-compose.yml в данном репозитории определяет сервисы web и db. Он указывает на сборку и настройку контейнера для веб-сервиса web, использование образа PostgreSQL для сервиса db, а также настройки портов и переменных окружения для каждого сервиса


Для запуска проекта нужно переименовать .env_example и .env.db_example, в .env и .env.db, заполнив значения переменных, в .env.db указывается пользователь базы данных, пароль пользователя базы данных и имя базы данных, в .env заполняется полный путь к к базе данных
Таблица для базы данных создаётся в app.py

